# üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Dataset Creator

## ‚ú® –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. üì• –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

#### –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–æ–≤
```python
from data_collectors import WebScraperCollector

scraper = WebScraperCollector(llm_provider)
data = await scraper.scrape_urls(["https://example.com"])
examples = scraper.convert_to_training_examples(data)
```

#### GitHub Issues
```python
from data_collectors import APICollector

collector = APICollector(api_key="YOUR_TOKEN")
issues = await collector.fetch_github_issues(
    repo="fastapi/fastapi",
    max_issues=200
)
```

#### StackOverflow
```python
questions = await collector.fetch_stackoverflow_questions(
    tag="python",
    max_questions=100
)
```

---

### 2. üßπ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞

#### –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```python
from deduplication import DataDeduplicator

deduplicator = DataDeduplicator()
unique, stats = deduplicator.deduplicate_dataset(
    examples=examples,
    method='fuzzy',  # –∏–ª–∏ 'hash', 'exact'
    similarity_threshold=0.9
)
```

#### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```python
from deduplication import DataCleaner

cleaner = DataCleaner()
filtered, stats = cleaner.filter_dataset(
    examples=examples,
    min_length=20,
    max_length=5000,
    remove_toxic=True
)
```

---

### 3. üìö –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π
```python
from versioning import version_manager

# –°–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏—é
version = version_manager.create_version(
    dataset_id=1,
    file_path="path/to/dataset.jsonl",
    description="–ò—Å—Ö–æ–¥–Ω–∞—è –≤–µ—Ä—Å–∏—è"
)

# –û—Ç–∫–∞—Ç–∏—Ç—å –∫ –≤–µ—Ä—Å–∏–∏
version_manager.set_current_version(dataset_id=1, version_id="abc123")
```

---

### 4. ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑ –∫–æ–¥–∞

#### YAML –∫–æ–Ω—Ñ–∏–≥
```yaml
# configs/my_pipeline.yaml
name: "it_support_dataset"

llm_provider:
  provider: "openai"
  model: "gpt-5.1"
  api_key: "${OPENAI_API_KEY}"

data_sources:
  # –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
  - type: "synthetic"
    config:
      domain: "support"
      count: 500

  # –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞
  - type: "web"
    config:
      urls: ["https://example.com/faq"]

  # GitHub issues
  - type: "api"
    config:
      api_type: "github"
      params:
        repo: "your/repo"
        max_issues: 200

deduplication:
  enabled: true
  method: "fuzzy"

cleaning:
  enabled: true
  min_length: 20

output:
  dataset_name: "my_dataset"
  format: "jsonl"
```

#### –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞
```python
from config_loader import load_pipeline_config

config = load_pipeline_config("configs/my_pipeline.yaml")
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd backend
pip install -r requirements.txt
```

**–ù–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `aiohttp` - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- `beautifulsoup4` - –ü–∞—Ä—Å–∏–Ω–≥ HTML
- `feedparser` - RSS feeds
- `pyyaml` - YAML –∫–æ–Ω—Ñ–∏–≥–∏
- `lxml` - XML/HTML –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## üåê API (v2)

### –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞
POST /api/v2/collect/web-scrape
{
  "urls": ["https://example.com"],
  "selector": "article",
  "convert_to_examples": true
}

# GitHub issues
POST /api/v2/collect/github-issues
{
  "repo": "fastapi/fastapi",
  "max_issues": 200
}

# StackOverflow
POST /api/v2/collect/stackoverflow
{
  "tag": "python",
  "max_questions": 100
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞
```bash
# –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
POST /api/v2/process/deduplicate
{
  "dataset_id": 1,
  "method": "fuzzy",
  "similarity_threshold": 0.9
}

# –û—á–∏—Å—Ç–∫–∞
POST /api/v2/process/clean
{
  "dataset_id": 1,
  "min_length": 20,
  "remove_toxic": true
}
```

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏—é
POST /api/v2/datasets/1/versions
{
  "description": "–ü–µ—Ä–µ–¥ —É–ª—É—á—à–µ–Ω–∏–µ–º"
}

# –°–ø–∏—Å–æ–∫ –≤–µ—Ä—Å–∏–π
GET /api/v2/datasets/1/versions

# –û—Ç–∫–∞—Ç–∏—Ç—å
POST /api/v2/datasets/1/rollback
{
  "version_id": "abc123"
}
```

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[UPGRADE_GUIDE.md](UPGRADE_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- **[MODULES_SUMMARY.md](MODULES_SUMMARY.md)** - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π
- **[configs/examples/](configs/examples/)** - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ß–∞—Ç–±–æ—Ç —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏
```yaml
# configs/it_support.yaml
data_sources:
  - type: "synthetic"
    config: {domain: "support", count: 500}
  - type: "api"
    config: {api_type: "github", params: {repo: "your/product"}}
  - type: "web"
    config: {urls: ["https://yoursite.com/faq"]}
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Üí Q&A
```yaml
# configs/docs_qa.yaml
data_sources:
  - type: "web"
    config:
      start_url: "https://docs.yourproduct.com"
      max_pages: 200
```

### Code Assistant
```yaml
# configs/code_assistant.yaml
data_sources:
  - type: "api"
    config: {api_type: "stackoverflow", params: {tag: "python"}}
  - type: "api"
    config: {api_type: "github", params: {repo: "python/cpython"}}
```

---

## üí° Best Practices

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é** –ø–æ—Å–ª–µ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
2. **–°–æ–∑–¥–∞–≤–∞–π –≤–µ—Ä—Å–∏–∏** –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
3. **–ö–æ–º–±–∏–Ω–∏—Ä—É–π –∏—Å—Ç–æ—á–Ω–∏–∫–∏**: 40-60% —Å–∏–Ω—Ç–µ—Ç–∏–∫–∞ + 40-60% —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–í–∫–ª—é—á–∞–π quality control** –¥–ª—è –≤–∞–∂–Ω—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

---

## üö¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ü–æ—Å–º–æ—Ç—Ä–∏ –ø—Ä–∏–º–µ—Ä—ã –≤ `configs/examples/`
2. –°–æ–∑–¥–∞–π —Å–≤–æ–π –∫–æ–Ω—Ñ–∏–≥ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –≥–æ—Ç–æ–≤—ã–π
3. –ó–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ API –∏–ª–∏ Python
4. –ü—Ä–∏–º–µ–Ω–∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é + –æ—á–∏—Å—Ç–∫—É
5. –ò—Å–ø–æ–ª—å–∑—É–π –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–∞—Ç–∞—Å–µ—Ç—ã –∏–∑ –ª—é–±—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤! üéâ**
